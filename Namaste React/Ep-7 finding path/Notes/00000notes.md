# Ep-7 finding path (routing)

Routing among different pages in react!!

## useEffect working!!
 we know syntax of useEffect!! 

 ```text
useEffect(callback function, dependencies?)
 ```
 ```jsx
useEffect(()=>{},[])
 ```
 useEffect is called after every render of component!! Dependency array chnage behaviour of useEffect!!

>Note:if no dependency array ,useEffect is called at every render!! 

>Note:If empty dependency array is empty then useEffect is called on initial render and just once!!Now it will not be called even if component re-renders!!


```jsx

const Body = () => {

    let [resturants,setResturants]=useState([]);

    const [searchTerm, setSearchTerm] = useState("");

    useEffect(() => {fetchdata()},[])

    const fetchdata = async()=> {
        const data=await fetch("http://localhost:8080/api/res");
        const json=await data.json()
        setResturants(json)
    }


```

see we calling fetchData() only on 1st render ,we have seen how many times fetchData() is called when we have not provided depedency array!!


what if we put something in dependency array , so now on dependency change ,useEffect will be called!!

```jsx
const Header = () => {

    const [buttonVal,setbuttonVal]=useState('Login');

    const [count,setCount]=useState(0);

    useEffect(() => {
        console.log("useffect called");
        setCount(count+1);
        console.log(count);
    }, [buttonVal]);

    return (
        <div className="header">
            <div className="logo">
                <img src={LOGO_URL} alt="logo" />
            </div>
            <div className="navItems">
              <ul>
                  <li>Home</li>
                  <li>About Us</li>
                  <li>Contact</li>
                  <li>Cart</li>
                  <button onClick={()=>{
                      if (buttonVal == "Login"){setbuttonVal("Logout")}
                      else setbuttonVal("Login");
                  }}>{buttonVal}</button>
              </ul>
            </div>
        </div>
    )
}

export default Header

```
Now as many times buttonVal changes useEffect will be called!!

![alt text](image.png)


just ignore error ,it is there as backend was not running!!

so there are 3 cases for useEffect 

1. no depedency array every time compoenent render
2. empty depdendency array only 1st time 
3. non-empty dependency array ,whenever depedency chnages useEfefct will be called!!

### Best practices
- Never use useState or any hook outside body!!
- try to call hooks on start 
- never useState inside if-else,for-loops and functions  ,it will create inconsitency in your program!!
- always create hooks on top of functional component ,inside it!!

## Routing

for this we will be using npm package `React Router DOM`

install by
```npm 
 npm i react-router-dom
```

our pacakage.json chnages

```json
  "dependencies": {
    "react": "^19.1.0",
    "react-dom": "^19.1.0",
    "react-router": "^7.6.2",
    "react-router-dom": "^7.6.2"
  },
```
we created aboutus page from chatGPt 

now we want `/about` should take to AboutUs page!!!
so in main.jsx

```jsx

import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import './index.css'
import App from './App.jsx'
import {createBrowserRouter, RouterProvider } from "react-router";
import AboutUs from "./AboutUs/AboutUs.jsx";

const appRouter=createBrowserRouter([
    {
        path: "/",
        element:<App/>
    },
    {
        path: "/about",
        element:<AboutUs/>
    }
]);

createRoot(document.getElementById('root')).render(
    <StrictMode>
        <RouterProvider router={appRouter}/>
    </StrictMode>
)

```

added contactus page too! adding routes of that!!

```jsx
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import './index.css'
import App from './App.jsx'
import {createBrowserRouter, RouterProvider } from "react-router";
import AboutUs from "./AboutUs/AboutUs.jsx";
import ContactUs from "./ContactUs/ContactUs.jsx";

const appRouter=createBrowserRouter([
    {
        path: "/",
        element:<App/>
    },
    {
        path: "/about",
        element:<AboutUs/>
    },
    {
        path: "/contact",
        element:<ContactUs/>
    }
]);

createRoot(document.getElementById('root')).render(
    <StrictMode>
        <RouterProvider router={appRouter}/>
    </StrictMode>
)


```




























